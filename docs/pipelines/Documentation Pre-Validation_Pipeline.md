
This GitHub Actions workflow is designed to validate content updates submitted via pull requests. It ensures changes in the `content/` directory are processed and reviewed before merging into the `content` branch. The workflow generates a validation report and posts it as a comment on the pull request.

## Purpose
- Validates pull requests targeting the `content` branch.
- Processes only **created or updated files** within the `content/` directory.
- Runs a Python script to validate and compile content.
- Posts a **validation report** as a comment on the pull request for easy review.

## Workflow Overview
### Trigger
This workflow triggers **on pull requests** when:
- The pull request is **opened**, **reopened**, or **synchronized**.
- The pull request targets the **`content` branch**.

### Permissions
- **Contents**: Write permissions for handling files.
- **Pull Requests**: Write permissions to post comments.

### Job: `validate-markdown`
The workflow runs on an **`ubuntu-latest`** environment with the following key steps:

## Steps
1. **Configure Git**  
    Sets up Git with a default user and email to perform content operations.
    
2. **Checkout Code**  
    Retrieves the repository code for processing.
    
3. **Set Up Python**  
    Installs Python 3.x for running the content validation script.
    
4. **Install Dependencies**  
    Installs required Python libraries:
    - `pandas`
    - `openpyxl`
    
5. **Identify Changed Files**  
    Lists all files in the `content/` directory that have been created or updated in the pull request.
    
6. **Copy Changed Files**  
    Copies the identified files to a temporary directory for processing.
    
7. **Fetch Content Branch**  
    Ensures the latest `content` branch is available for validation.
    
8. **Replace Content Directory**  
    Clears the `content` directory and replaces it with the updated files from the pull request.
    
9. **Run Content Validation**  
    Executes the `compile_content.py` script to validate and compile the content. The `--skip-link-check` option is used to bypass link checks during processing.
    
10. **Generate Report**  
    Finds and reads the `content_report.md` file generated by the validation script.
    
11. **Post Report as a Comment**  
    Automatically posts the content of `content_report.md` as a comment on the pull request, providing a detailed validation summary.

## File Locations
- **Validation Script**:  
    `.github/script/compile_content.py`
- **Generated Report**:  
    `content_report.md`
## Trigger Conditions
The workflow runs when:
- A **pull request** is opened, reopened, or updated.
- The target branch is **`content`**.
- Changes affect the `.github/` directory or files in the repository.

## Dependencies
The workflow requires:
- **Python 3.x**
- Libraries:
    - `pandas`
    - `openpyxl`